<!DOCTYPE html>
<html lang="en">
<head>
    <script src="nexus/NexusUI.js"></script>
    <script src="p5/p5.js"></script>
    <script src="p5/addons/p5.sound.js"></script>
    <script src="p5/addons/p5.dom.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/webpd-latest.js"></script>

    <script src="js/main.js"></script>

    <script>
        var patch
        $.get('fm2.pd', function(patchStr) {
          patch = Pd.loadPatch(patchStr)
          Pd.start()
        })
    </script>
</head>
<body>
    <h1>MonoFMTest</h1>
    <div id="piano"></div>
    <h2>amplitud modulator</h2>
    <div id="slider1"></div>
    <h2>frequency modulator</h2>
    <div id="slider2"></div>
    
    <script>
      var piano = new Nexus.Piano('#piano',{
    'size': [500,125],
    'mode': 'button',  // 'button', 'toggle', or 'impulse'
    'lowNote': 57,
    'highNote': 93
    })
    piano.on('change',function(v) {
    console.log(v);
    carrChange(v);
    })

    var slider1 = new Nexus.Slider('#slider1',{
    'size': [20,120],
    'mode': 'relative',  // 'relative' or 'absolute'
    'min': 16,
    'max': 6000,
    'step': 0,
    'value': 0
    })  
    var slider2 = new Nexus.Slider('#slider2',{
    'size': [20,120],
    'mode': 'relative',  // 'relative' or 'absolute'
    'min': 2,
    'max': 20,
    'step': 0,
    'value': 0
    })  
    
    
    slider1.on('change',function(v) {
    ampChange(v);
    console.log(v);
    })
    slider2.on('change',function(v) {
    console.log(v);
    freqChange(v);
    }) 
    
    </script>
</body>
</html>